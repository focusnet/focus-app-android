<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_91) on Thu Jun 30 09:01:29 ICT 2016 -->
<title>DataContext</title>
<meta name="date" content="2016-06-30">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DataContext";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../eu/focusnet/app/model/AppContentInstance.html" title="class in eu.focusnet.app.model"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../eu/focusnet/app/model/DataContext.DataAcquisitionTask.html" title="class in eu.focusnet.app.model"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?eu/focusnet/app/model/DataContext.html" target="_top">Frames</a></li>
<li><a href="DataContext.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">eu.focusnet.app.model</div>
<h2 title="Class DataContext" class="title">Class DataContext</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.util.AbstractMap&lt;K,V&gt;</li>
<li>
<ul class="inheritance">
<li>java.util.HashMap&lt;java.lang.String,<a href="../../../../eu/focusnet/app/controller/PriorityTask.html" title="class in eu.focusnet.app.controller">PriorityTask</a>&lt;java.lang.String&gt;&gt;</li>
<li>
<ul class="inheritance">
<li>eu.focusnet.app.model.DataContext</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Serializable, java.lang.Cloneable, java.util.Map&lt;java.lang.String,<a href="../../../../eu/focusnet/app/controller/PriorityTask.html" title="class in eu.focusnet.app.controller">PriorityTask</a>&lt;java.lang.String&gt;&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">DataContext</span>
extends java.util.HashMap&lt;java.lang.String,<a href="../../../../eu/focusnet/app/controller/PriorityTask.html" title="class in eu.focusnet.app.controller">PriorityTask</a>&lt;java.lang.String&gt;&gt;</pre>
<div class="block">In our model, all <a href="../../../../eu/focusnet/app/model/AbstractInstance.html" title="class in eu.focusnet.app.model"><code>AbstractInstance</code></a> have an associated <code>DataContext</code>. This data
 context is used to perform data resolution, i.e. determine iterators and interpolate
 variables in the instance content. The basic functioning is as follows:
 - Instances request to <a href="../../../../eu/focusnet/app/model/DataContext.html#register-java.lang.String-java.lang.String-"><code>register(String, String)</code></a> data to their <code>DataContext</code>.
 - Instances request their iterators to <a href="../../../../eu/focusnet/app/model/DataContext.html#registerIterator-java.lang.String-java.lang.String-"><code>registerIterator(String, String)</code></a>. It has a higher
 priority.
 - The <code>DataContext</code> then pushes the request in a queue such that the resource will
 be downloaded. The queue is actually maintained by the <a href="../../../../eu/focusnet/app/controller/DataManager.html" title="class in eu.focusnet.app.controller"><code>DataManager</code></a> of the application,
 which is common to all <code>DataContext</code>s.
 - Instances can consume data by calling <code>#resolve*()</code> methods. The
 calling thread will then block until the resource is available. The actual blocking and waiting
 is done in <code>HashMap.get(Object)</code>.
 <p/>
 <a href="../../../../eu/focusnet/app/model/DataContext.html#register-java.lang.String-java.lang.String-"><code>register(String, String)</code></a>-ed resources are processed in order of <a href="../../../../eu/focusnet/app/model/DataContext.html#priority"><code>priority</code></a>.
 The later the instance is created in the application content, the lower is its priority.
 <p/>
 Iterators are saved with a special name based on the guid of the instance creating the iterator,
 such that they can be re-used by children instances. <code>$iterator:&lt;guid&gt;$&gt;</code>
 <p/>
 Generally speaking, our application is constructed as a tree. <a href="../../../../eu/focusnet/app/model/ProjectInstance.html" title="class in eu.focusnet.app.model"><code>ProjectInstance</code></a>s
 and <a href="../../../../eu/focusnet/app/model/PageInstance.html" title="class in eu.focusnet.app.model"><code>PageInstance</code></a>s are nodes, and only <a href="../../../../eu/focusnet/app/model/PageInstance.html" title="class in eu.focusnet.app.model"><code>PageInstance</code></a>s can be leaves.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../serialized-form.html#eu.focusnet.app.model.DataContext">Serialized Form</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.DataAcquisitionTask.html" title="class in eu.focusnet.app.model">DataContext.DataAcquisitionTask</a></span></code>
<div class="block">Task responsible for acquiring data</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.java.util.AbstractMap">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;java.util.AbstractMap</h3>
<code>java.util.AbstractMap.SimpleEntry&lt;K,V&gt;, java.util.AbstractMap.SimpleImmutableEntry&lt;K,V&gt;</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.java.util.Map">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;java.util.Map</h3>
<code>java.util.Map.Entry&lt;K,V&gt;</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../eu/focusnet/app/controller/DataManager.html" title="class in eu.focusnet.app.controller">DataManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#dataManager">dataManager</a></span></code>
<div class="block">The application <a href="../../../../eu/focusnet/app/controller/DataManager.html" title="class in eu.focusnet.app.controller"><code>DataManager</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#iteratorLabel">iteratorLabel</a></span></code>
<div class="block"><code>DataContext</code>-specific iterator label</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#priority">priority</a></span></code>
<div class="block">Priority of this data context.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#DataContext-eu.focusnet.app.model.DataContext-">DataContext</a></span>(<a href="../../../../eu/focusnet/app/model/DataContext.html" title="class in eu.focusnet.app.model">DataContext</a>&nbsp;parentContext)</code>
<div class="block">Construct a new DataContext from another one.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#DataContext-eu.focusnet.app.controller.DataManager-">DataContext</a></span>(<a href="../../../../eu/focusnet/app/controller/DataManager.html" title="class in eu.focusnet.app.controller">DataManager</a>&nbsp;dm)</code>
<div class="block">Default c'tor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private <a href="../../../../eu/focusnet/app/controller/PriorityTask.html" title="class in eu.focusnet.app.controller">PriorityTask</a>&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#get-java.lang.String-">get</a></span>(java.lang.String&nbsp;key)</code>
<div class="block">Synchronized function used to get a registration based on its key</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../eu/focusnet/app/controller/DataManager.html" title="class in eu.focusnet.app.controller">DataManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#getDataManager--">getDataManager</a></span>()</code>
<div class="block">Get the <a href="../../../../eu/focusnet/app/controller/DataManager.html" title="class in eu.focusnet.app.controller"><code>DataManager</code></a> used by this <code>DataContext</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#getIteratorValue--">getIteratorValue</a></span>()</code>
<div class="block">Get the value for the iterator registered in this context</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#getPriority--">getPriority</a></span>()</code>
<div class="block">Get current data context priority.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#getResolved-java.lang.String-">getResolved</a></span>(java.lang.String&nbsp;key)</code>
<div class="block">Get the resolved result of a registration</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#nonSynchronizedRegister-java.lang.String-java.lang.String-int-">nonSynchronizedRegister</a></span>(java.lang.String&nbsp;key,
                       java.lang.String&nbsp;description,
                       int&nbsp;priority)</code>
<div class="block">Helper function for registration.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#provideData-java.util.HashMap-">provideData</a></span>(java.util.HashMap&lt;java.lang.String,java.lang.String&gt;&nbsp;data)</code>
<div class="block">Fill data in this context based on the provided data input definition.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#register-java.lang.String-java.lang.String-">register</a></span>(java.lang.String&nbsp;key,
        java.lang.String&nbsp;description)</code>
<div class="block">Add a new FocusSample's urls entry in our current data context, based on a description of the
 new data to be included.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#registerIterator-java.lang.String-java.lang.String-">registerIterator</a></span>(java.lang.String&nbsp;guid,
                java.lang.String&nbsp;description)</code>
<div class="block">Register a new iterator.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#resolve-java.lang.String-">resolve</a></span>(java.lang.String&nbsp;request)</code>
<div class="block">Resolve the supplied request in the current data context.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.util.ArrayList&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#resolveToArrayOfUrls-java.lang.String-">resolveToArrayOfUrls</a></span>(java.lang.String&nbsp;request)</code>
<div class="block">Resolve the supplied parameter against the current data context.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.lang.Double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#resolveToDouble-java.lang.Object-">resolveToDouble</a></span>(java.lang.Object&nbsp;probableString)</code>
<div class="block">Resolve the supplied parameter against the current data context.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#resolveToObject-java.lang.Object-">resolveToObject</a></span>(java.lang.Object&nbsp;probableString)</code>
<div class="block">Resolve the supplied parameter against the current data context.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#resolveToString-java.lang.Object-">resolveToString</a></span>(java.lang.Object&nbsp;probableString)</code>
<div class="block">Resolve the supplied parameter against the current data context.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#resolveToString-java.lang.String-">resolveToString</a></span>(java.lang.String&nbsp;request)</code>
<div class="block">Resolve the supplied parameter against the current data context.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>private java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/focusnet/app/model/DataContext.html#resolveVariable-java.lang.String-">resolveVariable</a></span>(java.lang.String&nbsp;request)</code>
<div class="block">Resolve the provided request considering the present data context, without variable
 interpolation within the string.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.util.HashMap">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.util.HashMap</h3>
<code>clear, clone, compute, computeIfAbsent, computeIfPresent, containsKey, containsValue, entrySet, forEach, get, getOrDefault, isEmpty, keySet, merge, put, putAll, putIfAbsent, remove, remove, replace, replace, replaceAll, size, values</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.util.AbstractMap">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.util.AbstractMap</h3>
<code>equals, hashCode, toString</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>finalize, getClass, notify, notifyAll, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.util.Map">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.util.Map</h3>
<code>equals, hashCode</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="dataManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dataManager</h4>
<pre>private&nbsp;<a href="../../../../eu/focusnet/app/controller/DataManager.html" title="class in eu.focusnet.app.controller">DataManager</a> dataManager</pre>
<div class="block">The application <a href="../../../../eu/focusnet/app/controller/DataManager.html" title="class in eu.focusnet.app.controller"><code>DataManager</code></a>.</div>
</li>
</ul>
<a name="priority">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>priority</h4>
<pre>private&nbsp;int priority</pre>
<div class="block">Priority of this data context. The deeper it is created in the application content, the lower
 it is.
 <p/>
 The higher the number is, the sooner the operation will be executed.</div>
</li>
</ul>
<a name="iteratorLabel">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>iteratorLabel</h4>
<pre>private&nbsp;java.lang.String iteratorLabel</pre>
<div class="block"><code>DataContext</code>-specific iterator label</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DataContext-eu.focusnet.app.controller.DataManager-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DataContext</h4>
<pre>public&nbsp;DataContext(@NonNull
                   <a href="../../../../eu/focusnet/app/controller/DataManager.html" title="class in eu.focusnet.app.controller">DataManager</a>&nbsp;dm)</pre>
<div class="block">Default c'tor</div>
</li>
</ul>
<a name="DataContext-eu.focusnet.app.model.DataContext-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DataContext</h4>
<pre>public&nbsp;DataContext(@NonNull
                   <a href="../../../../eu/focusnet/app/model/DataContext.html" title="class in eu.focusnet.app.model">DataContext</a>&nbsp;parentContext)</pre>
<div class="block">Construct a new DataContext from another one.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>parentContext</code> - The <code>DataContext</code> on the top of which we must create the new one.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="register-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>register</h4>
<pre>public&nbsp;void&nbsp;register(java.lang.String&nbsp;key,
                     java.lang.String&nbsp;description)</pre>
<div class="block">Add a new FocusSample's urls entry in our current data context, based on a description of the
 new data to be included. These descriptions are the ones we can find in the 'data'
 properties of the Application Content template JSON representation, or in iterators
 definitions.
 <p/>
 All targets of data context entries are FocusSample's
 <p/>
 The different options for the description are the following:
 <p/>
 - a simple URL, e.g. http://data.example.org/test/123
 - a reference to an existing entry in this data context, with a selector to the
 appropriate key in its data object; e.g. <ctx/machine-ABC/woodpile-url>
 <p/>
 - a history request, e.g. <history|URL|since=now-86400;until=now;every=240>
 - a history request with a reference to a previously registered entry, e.g.
 <history|ctx/machine-ABC/woodpile-url|since=$date$>
 <p/>
 We only expect urls to be returned when registering. Value fetching is done in <code>resolve*()</code></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The key under which we save this registration for later use</dd>
<dd><code>description</code> - Description for data retrieval</dd>
</dl>
</li>
</ul>
<a name="registerIterator-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerIterator</h4>
<pre>public&nbsp;void&nbsp;registerIterator(java.lang.String&nbsp;guid,
                             java.lang.String&nbsp;description)</pre>
<div class="block">Register a new iterator. Give it an instance-specific name based on the guid and a higher
 priority to avoid deadlocks.
 <p/>
 if we give the same priority to iterators, we may have problems
 if the 'data' array contains a reference to the iterator (for example for
 saving the iterator as a variable for use in inner project).
 so let's make sure that the priority of our iterators is slightly higher than the
 one of other objects acquired in this context</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>guid</code> - Guid of the instance registering the iterator</dd>
<dd><code>description</code> - Description for data retrieval</dd>
</dl>
</li>
</ul>
<a name="nonSynchronizedRegister-java.lang.String-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nonSynchronizedRegister</h4>
<pre>private&nbsp;void&nbsp;nonSynchronizedRegister(java.lang.String&nbsp;key,
                                     java.lang.String&nbsp;description,
                                     int&nbsp;priority)</pre>
<div class="block">Helper function for registration.
 <p/>
 Registrations are in fact <a href="../../../../eu/focusnet/app/model/DataContext.DataAcquisitionTask.html" title="class in eu.focusnet.app.model"><code>DataContext.DataAcquisitionTask</code></a>s being pushed to the app builder pool.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The key under which we save this registration for later use</dd>
<dd><code>description</code> - Description for data retrieval</dd>
<dd><code>priority</code> - Priority of the registration</dd>
</dl>
</li>
</ul>
<a name="provideData-java.util.HashMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>provideData</h4>
<pre>public&nbsp;void&nbsp;provideData(java.util.HashMap&lt;java.lang.String,java.lang.String&gt;&nbsp;data)</pre>
<div class="block">Fill data in this context based on the provided data input definition.
 <p/>
 <a href="../../../../eu/focusnet/app/model/AppContentInstance.html" title="class in eu.focusnet.app.model"><code>AppContentInstance</code></a>, <a href="../../../../eu/focusnet/app/model/ProjectInstance.html" title="class in eu.focusnet.app.model"><code>ProjectInstance</code></a>s and <a href="../../../../eu/focusnet/app/model/PageInstance.html" title="class in eu.focusnet.app.model"><code>PageInstance</code></a>s
 can define a <code>data</code> property that contains data to retrieve and made available in
 their context. These resources are fetched after the iterator, with a slightly lower
 priority to avoid deadlocks.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - A list of descriptions for data fetching, as defined
             in <a href="../../../../eu/focusnet/app/model/DataContext.html#register-java.lang.String-java.lang.String-"><code>register(String, String)</code></a></dd>
</dl>
</li>
</ul>
<a name="getResolved-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResolved</h4>
<pre>private&nbsp;java.lang.String&nbsp;getResolved(java.lang.String&nbsp;key)</pre>
<div class="block">Get the resolved result of a registration</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The key of the registration to retrieve</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A URL, or <code>null</code> if an error occurred (exception in task, interruption, no data found)</dd>
</dl>
</li>
</ul>
<a name="get-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>private&nbsp;<a href="../../../../eu/focusnet/app/controller/PriorityTask.html" title="class in eu.focusnet.app.controller">PriorityTask</a>&lt;java.lang.String&gt;&nbsp;get(java.lang.String&nbsp;key)</pre>
<div class="block">Synchronized function used to get a registration based on its key</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Registration key</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="../../../../eu/focusnet/app/controller/PriorityTask.html" title="class in eu.focusnet.app.controller"><code>PriorityTask</code></a> for this registration</dd>
</dl>
</li>
</ul>
<a name="resolve-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolve</h4>
<pre>private&nbsp;java.lang.Object&nbsp;resolve(java.lang.String&nbsp;request)
                          throws <a href="../../../../eu/focusnet/app/util/FocusMissingResourceException.html" title="class in eu.focusnet.app.util">FocusMissingResourceException</a></pre>
<div class="block">Resolve the supplied request in the current data context.
 A request may be an arbitrary String with expected variable interpolation, e.g.
 <code>"Project number &lt;ctx/my-project/id&gt;"</code>
 <p/>
 Or a simple string that will return another type of Object (e.g. Double, Array of URLs, etc.)
 <p/>
 Can not be nested "test <ctx/simple-url/<ctx/other-url/field>> test" except if there is nothing around it.
 This is not a feature but a side effect of the implementation. not tested.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - The request to satisfy</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An Object that answers the request, or <code>null</code>. We return either the URL
 of a registered <a href="../../../../eu/focusnet/app/model/gson/FocusSample.html" title="class in eu.focusnet.app.model.gson"><code>FocusSample</code></a> or the specifically requested property within a
 <a href="../../../../eu/focusnet/app/model/gson/FocusSample.html" title="class in eu.focusnet.app.model.gson"><code>FocusSample</code></a>. If the request does not match any of our expected formats, it will be
 returned as-is.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../eu/focusnet/app/util/FocusMissingResourceException.html" title="class in eu.focusnet.app.util">FocusMissingResourceException</a></code> - If the requested resource could not be obtained</dd>
</dl>
</li>
</ul>
<a name="resolveVariable-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveVariable</h4>
<pre>private&nbsp;java.lang.Object&nbsp;resolveVariable(java.lang.String&nbsp;request)
                                  throws <a href="../../../../eu/focusnet/app/util/FocusMissingResourceException.html" title="class in eu.focusnet.app.util">FocusMissingResourceException</a></pre>
<div class="block">Resolve the provided request considering the present data context, without variable
 interpolation within the string. e.g.
 - <ctx/simple-example/field-to-get> -> will retrieve the field-to-get field of the
 data being stored under the simple-example entry.
 - <ctx/simple-example/$this$> -> will return the url of the context identfied by simple-example</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - The request to satisfy</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Same as <a href="../../../../eu/focusnet/app/model/DataContext.html#resolve-java.lang.String-"><code>resolve(String)</code></a>, except that there is never variable
 interpolation; this is the job of <a href="../../../../eu/focusnet/app/model/DataContext.html#resolve-java.lang.String-"><code>resolve(String)</code></a>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../eu/focusnet/app/util/FocusMissingResourceException.html" title="class in eu.focusnet.app.util">FocusMissingResourceException</a></code> - If a resource cannot be found</dd>
</dl>
</li>
</ul>
<a name="resolveToString-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveToString</h4>
<pre>public&nbsp;java.lang.String&nbsp;resolveToString(java.lang.Object&nbsp;probableString)
                                 throws <a href="../../../../eu/focusnet/app/util/FocusBadTypeException.html" title="class in eu.focusnet.app.util">FocusBadTypeException</a>,
                                        <a href="../../../../eu/focusnet/app/util/FocusMissingResourceException.html" title="class in eu.focusnet.app.util">FocusMissingResourceException</a></pre>
<div class="block">Resolve the supplied parameter against the current data context.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>probableString</code> - An object, but probably a String.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The requested value as a String</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../eu/focusnet/app/util/FocusBadTypeException.html" title="class in eu.focusnet.app.util">FocusBadTypeException</a></code> - If eventually the input object was not a String, or if the
                                       output casting was not possible</dd>
<dd><code><a href="../../../../eu/focusnet/app/util/FocusMissingResourceException.html" title="class in eu.focusnet.app.util">FocusMissingResourceException</a></code> - If the resource could not be fetched</dd>
</dl>
</li>
</ul>
<a name="resolveToString-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveToString</h4>
<pre>public&nbsp;java.lang.String&nbsp;resolveToString(java.lang.String&nbsp;request)
                                 throws <a href="../../../../eu/focusnet/app/util/FocusBadTypeException.html" title="class in eu.focusnet.app.util">FocusBadTypeException</a>,
                                        <a href="../../../../eu/focusnet/app/util/FocusMissingResourceException.html" title="class in eu.focusnet.app.util">FocusMissingResourceException</a></pre>
<div class="block">Resolve the supplied parameter against the current data context.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - A request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The requested value as a String</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../eu/focusnet/app/util/FocusBadTypeException.html" title="class in eu.focusnet.app.util">FocusBadTypeException</a></code> - If the output casting was not possible</dd>
<dd><code><a href="../../../../eu/focusnet/app/util/FocusMissingResourceException.html" title="class in eu.focusnet.app.util">FocusMissingResourceException</a></code> - If the resource could not be fetched</dd>
</dl>
</li>
</ul>
<a name="resolveToArrayOfUrls-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveToArrayOfUrls</h4>
<pre>public&nbsp;java.util.ArrayList&lt;java.lang.String&gt;&nbsp;resolveToArrayOfUrls(java.lang.String&nbsp;request)
                                                           throws <a href="../../../../eu/focusnet/app/util/FocusMissingResourceException.html" title="class in eu.focusnet.app.util">FocusMissingResourceException</a>,
                                                                  <a href="../../../../eu/focusnet/app/util/FocusBadTypeException.html" title="class in eu.focusnet.app.util">FocusBadTypeException</a></pre>
<div class="block">Resolve the supplied parameter against the current data context. and retrieve an array of
 URLs.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - A request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The requested value as an array of URLs</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../eu/focusnet/app/util/FocusBadTypeException.html" title="class in eu.focusnet.app.util">FocusBadTypeException</a></code> - If it is not possible to cast the output to an array of URLs</dd>
<dd><code><a href="../../../../eu/focusnet/app/util/FocusMissingResourceException.html" title="class in eu.focusnet.app.util">FocusMissingResourceException</a></code> - If the resource could not be fetched</dd>
</dl>
</li>
</ul>
<a name="resolveToDouble-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveToDouble</h4>
<pre>public&nbsp;java.lang.Double&nbsp;resolveToDouble(java.lang.Object&nbsp;probableString)
                                 throws <a href="../../../../eu/focusnet/app/util/FocusBadTypeException.html" title="class in eu.focusnet.app.util">FocusBadTypeException</a>,
                                        <a href="../../../../eu/focusnet/app/util/FocusMissingResourceException.html" title="class in eu.focusnet.app.util">FocusMissingResourceException</a></pre>
<div class="block">Resolve the supplied parameter against the current data context.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>probableString</code> - An object, but probably a String.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The requested value as a Double</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../eu/focusnet/app/util/FocusBadTypeException.html" title="class in eu.focusnet.app.util">FocusBadTypeException</a></code> - If eventually the input object was not a String, or if the
                                       output casting was not possible</dd>
<dd><code><a href="../../../../eu/focusnet/app/util/FocusMissingResourceException.html" title="class in eu.focusnet.app.util">FocusMissingResourceException</a></code> - If the resource could not be fetched</dd>
</dl>
</li>
</ul>
<a name="resolveToObject-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveToObject</h4>
<pre>public&nbsp;java.lang.Object&nbsp;resolveToObject(java.lang.Object&nbsp;probableString)
                                 throws <a href="../../../../eu/focusnet/app/util/FocusBadTypeException.html" title="class in eu.focusnet.app.util">FocusBadTypeException</a>,
                                        <a href="../../../../eu/focusnet/app/util/FocusMissingResourceException.html" title="class in eu.focusnet.app.util">FocusMissingResourceException</a></pre>
<div class="block">Resolve the supplied parameter against the current data context.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>probableString</code> - An object, but probably a String.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The requested value as an Object, without further casting</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../eu/focusnet/app/util/FocusBadTypeException.html" title="class in eu.focusnet.app.util">FocusBadTypeException</a></code> - If eventually the input object was not a String</dd>
<dd><code><a href="../../../../eu/focusnet/app/util/FocusMissingResourceException.html" title="class in eu.focusnet.app.util">FocusMissingResourceException</a></code> - If the resource could not be fetched</dd>
</dl>
</li>
</ul>
<a name="getDataManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataManager</h4>
<pre>public&nbsp;<a href="../../../../eu/focusnet/app/controller/DataManager.html" title="class in eu.focusnet.app.controller">DataManager</a>&nbsp;getDataManager()</pre>
<div class="block">Get the <a href="../../../../eu/focusnet/app/controller/DataManager.html" title="class in eu.focusnet.app.controller"><code>DataManager</code></a> used by this <code>DataContext</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="../../../../eu/focusnet/app/controller/DataManager.html" title="class in eu.focusnet.app.controller"><code>DataManager</code></a></dd>
</dl>
</li>
</ul>
<a name="getPriority--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPriority</h4>
<pre>public&nbsp;int&nbsp;getPriority()</pre>
<div class="block">Get current data context priority.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The priority. The higher the better.</dd>
</dl>
</li>
</ul>
<a name="getIteratorValue--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getIteratorValue</h4>
<pre>public&nbsp;java.lang.String&nbsp;getIteratorValue()</pre>
<div class="block">Get the value for the iterator registered in this context</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a URL</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../eu/focusnet/app/model/AppContentInstance.html" title="class in eu.focusnet.app.model"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../eu/focusnet/app/model/DataContext.DataAcquisitionTask.html" title="class in eu.focusnet.app.model"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?eu/focusnet/app/model/DataContext.html" target="_top">Frames</a></li>
<li><a href="DataContext.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
